{% set elo_min_scale = 700 %}
{% set elo_max_scale = leaderboard.board | map(attribute='elo') | max %}
{% set elo_scale_range = elo_max_scale - elo_min_scale %}
<table class="leaderboard-table">
    <thead>
        <tr>
            <th>Rank</th>
            <th>Model</th>
            <th>ELO</th>
        </tr>
    </thead>
    <tbody>
        {% for entry in leaderboard.board %}
        {% set elo_percent_raw = (entry.elo - elo_min_scale) / elo_scale_range * 100 %}
        {% set elo_percent = [0, [elo_percent_raw, 100] | min] | max %}
        <tr class="elo-row" style="--elo-percent: {{ '%.1f' | format(elo_percent) }}">
            <td>{{ entry.rank }}</td>
            <td>
                {% set logos = {
                    'GPT-5': '/static/images/orgs/openai.svg',
                    'GPT-5 Mini': '/static/images/orgs/openai.svg',
                    'o3': '/static/images/orgs/openai.svg',
                    'Claude Sonnet 4.5': '/static/images/orgs/anthropic.svg',
                    'Claude Sonnet 4': '/static/images/orgs/anthropic.svg',
                    'Gemini 2.5 Pro': '/static/images/orgs/google.svg',
                    'Grok Code Fast': '/static/images/orgs/xai.svg',
                    'Qwen3 Coder': '/static/images/orgs/qwen.png',
                } %}
                <img
                    src="{{ logos.get(entry.model, '/static/images/orgs/default.svg') }}"
                    alt="{{ entry.model }} logo"
                    style="height:1em; vertical-align:middle; margin-right:0.4em; display:inline-block; transform:translateY(-0.12em);"
                 />
                {{ entry.model }}
            </td>
            <td class="elo-value">{{ entry.elo }} Â± {{ entry.elo_std }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<p>
    <span class="subtext">Last updated</span> {{ leaderboard.last_updated | format_timestamp }}
</p>
